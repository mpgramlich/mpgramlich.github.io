\hypertarget{tables_8h}{}\section{/home/loudish/mpx-\/spring2017-\/modestus/mpx\+\_\+core/include/core/tables.h File Reference}
\label{tables_8h}\index{/home/loudish/mpx-\/spring2017-\/modestus/mpx\+\_\+core/include/core/tables.\+h@{/home/loudish/mpx-\/spring2017-\/modestus/mpx\+\_\+core/include/core/tables.\+h}}
{\ttfamily \#include \char`\"{}system.\+h\char`\"{}}\\*
Include dependency graph for tables.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=229pt]{tables_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{tables_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structidt__entry__struct}{idt\+\_\+entry\+\_\+struct}
\item 
struct \hyperlink{structidt__struct}{idt\+\_\+struct}
\item 
struct \hyperlink{structgdt__descriptor__struct}{gdt\+\_\+descriptor\+\_\+struct}
\item 
struct \hyperlink{structgdt__entry__struct}{gdt\+\_\+entry\+\_\+struct}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structidt__entry__struct}{idt\+\_\+entry\+\_\+struct} \hyperlink{tables_8h_ad1929ba5e546bde910d88a7c08dc507b}{\+\_\+\+\_\+attribute\+\_\+\+\_\+} ((packed)) idt\+\_\+entry
\item 
void \hyperlink{tables_8h_a9eca3fe1465f8d7d383551d804853139}{idt\+\_\+set\+\_\+gate} (\hyperlink{system_8h_a1026e682ffdadc1701c42cd44ce9efcf}{u8int} idx, \hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int} \hyperlink{tables_8h_ab5763c2b18c825c8b8fba44b2e60ddc1}{base}, \hyperlink{system_8h_a863d9497073aad2b991aeab2211d87af}{u16int} sel, \hyperlink{system_8h_a1026e682ffdadc1701c42cd44ce9efcf}{u8int} \hyperlink{tables_8h_a138dda98fcd4738346af61bcca8cf4b4}{flags})
\item 
void \hyperlink{tables_8h_a0b5aee548c88c40ecb07741be1be2e27}{gdt\+\_\+init\+\_\+entry} (int idx, \hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int} \hyperlink{tables_8h_ab5763c2b18c825c8b8fba44b2e60ddc1}{base}, \hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int} \hyperlink{tables_8h_a68fd3b4f6c14a331ca9b226cbf122e13}{limit}, \hyperlink{system_8h_a1026e682ffdadc1701c42cd44ce9efcf}{u8int} \hyperlink{tables_8h_a360a726ac0b61d9e4e1be3ad34f80244}{access}, \hyperlink{system_8h_a1026e682ffdadc1701c42cd44ce9efcf}{u8int} \hyperlink{tables_8h_a138dda98fcd4738346af61bcca8cf4b4}{flags})
\item 
void \hyperlink{tables_8h_a35fe413107af682030ab7a4b6dff19b8}{init\+\_\+idt} ()
\item 
void \hyperlink{tables_8h_a86bb50044169930202cc403376ef40c3}{init\+\_\+gdt} ()
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{system_8h_a863d9497073aad2b991aeab2211d87af}{u16int} \hyperlink{tables_8h_a0a776dced2c26f16298425cde39f8364}{base\+\_\+low}
\item 
\hyperlink{system_8h_a863d9497073aad2b991aeab2211d87af}{u16int} \hyperlink{tables_8h_ab3f34507900160b4a9b309b4ed039e07}{sselect}
\item 
\hyperlink{system_8h_a1026e682ffdadc1701c42cd44ce9efcf}{u8int} \hyperlink{tables_8h_a94515e42687e7508877c09da81f86860}{zero}
\item 
\hyperlink{system_8h_a1026e682ffdadc1701c42cd44ce9efcf}{u8int} \hyperlink{tables_8h_a138dda98fcd4738346af61bcca8cf4b4}{flags}
\item 
\hyperlink{system_8h_a863d9497073aad2b991aeab2211d87af}{u16int} \hyperlink{tables_8h_a706c81b840522a69ab6e6e941630d5e4}{base\+\_\+high}
\item 
\hyperlink{system_8h_a863d9497073aad2b991aeab2211d87af}{u16int} \hyperlink{tables_8h_a68fd3b4f6c14a331ca9b226cbf122e13}{limit}
\item 
\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int} \hyperlink{tables_8h_ab5763c2b18c825c8b8fba44b2e60ddc1}{base}
\item 
\hyperlink{system_8h_a863d9497073aad2b991aeab2211d87af}{u16int} \hyperlink{tables_8h_af9013229edfb91d4820f66b8df890ce3}{limit\+\_\+low}
\item 
\hyperlink{system_8h_a1026e682ffdadc1701c42cd44ce9efcf}{u8int} \hyperlink{tables_8h_a35c709a004babd09046db9f667ba0646}{base\+\_\+mid}
\item 
\hyperlink{system_8h_a1026e682ffdadc1701c42cd44ce9efcf}{u8int} \hyperlink{tables_8h_a360a726ac0b61d9e4e1be3ad34f80244}{access}
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{tables.\+h@{tables.\+h}!\+\_\+\+\_\+attribute\+\_\+\+\_\+@{\+\_\+\+\_\+attribute\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+attribute\+\_\+\+\_\+@{\+\_\+\+\_\+attribute\+\_\+\+\_\+}!tables.\+h@{tables.\+h}}
\subsubsection[{\texorpdfstring{\+\_\+\+\_\+attribute\+\_\+\+\_\+((packed)) idt\+\_\+entry}{__attribute__((packed)) idt_entry}}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf idt\+\_\+entry\+\_\+struct} \+\_\+\+\_\+attribute\+\_\+\+\_\+ (
\begin{DoxyParamCaption}
\item[{(packed)}]{}
\end{DoxyParamCaption}
)}\hypertarget{tables_8h_ad1929ba5e546bde910d88a7c08dc507b}{}\label{tables_8h_ad1929ba5e546bde910d88a7c08dc507b}
\index{tables.\+h@{tables.\+h}!gdt\+\_\+init\+\_\+entry@{gdt\+\_\+init\+\_\+entry}}
\index{gdt\+\_\+init\+\_\+entry@{gdt\+\_\+init\+\_\+entry}!tables.\+h@{tables.\+h}}
\subsubsection[{\texorpdfstring{gdt\+\_\+init\+\_\+entry(int idx, u32int base, u32int limit, u8int access, u8int flags)}{gdt_init_entry(int idx, u32int base, u32int limit, u8int access, u8int flags)}}]{\setlength{\rightskip}{0pt plus 5cm}void gdt\+\_\+init\+\_\+entry (
\begin{DoxyParamCaption}
\item[{int}]{idx, }
\item[{{\bf u32int}}]{base, }
\item[{{\bf u32int}}]{limit, }
\item[{{\bf u8int}}]{access, }
\item[{{\bf u8int}}]{flags}
\end{DoxyParamCaption}
)}\hypertarget{tables_8h_a0b5aee548c88c40ecb07741be1be2e27}{}\label{tables_8h_a0b5aee548c88c40ecb07741be1be2e27}


Definition at line 57 of file tables.\+c.



References access, and gdt\+\_\+entries.



Referenced by init\+\_\+gdt().


\begin{DoxyCode}
59 \{
60   gdt\_entry *new\_entry = &\hyperlink{tables_8c_ac64ff6d00454e0b88d43b55536418288}{gdt\_entries}[idx];
61   new\_entry->base\_low  = (\hyperlink{tables_8h_ab5763c2b18c825c8b8fba44b2e60ddc1}{base} & 0xFFFF);
62   new\_entry->base\_mid  = (\hyperlink{tables_8h_ab5763c2b18c825c8b8fba44b2e60ddc1}{base} >> 16) & 0xFF;
63   new\_entry->base\_high = (\hyperlink{tables_8h_ab5763c2b18c825c8b8fba44b2e60ddc1}{base} >> 24) & 0xFF;
64   new\_entry->limit\_low = (\hyperlink{tables_8h_a68fd3b4f6c14a331ca9b226cbf122e13}{limit} & 0xFFFF);
65   new\_entry->flags  = (\hyperlink{tables_8h_a68fd3b4f6c14a331ca9b226cbf122e13}{limit} >> 16) & 0xFF;
66   new\_entry->flags |= \hyperlink{tables_8h_a138dda98fcd4738346af61bcca8cf4b4}{flags} & 0xF0;
67   new\_entry->access = \hyperlink{tables_8h_a360a726ac0b61d9e4e1be3ad34f80244}{access};
68 \}
\end{DoxyCode}
\index{tables.\+h@{tables.\+h}!idt\+\_\+set\+\_\+gate@{idt\+\_\+set\+\_\+gate}}
\index{idt\+\_\+set\+\_\+gate@{idt\+\_\+set\+\_\+gate}!tables.\+h@{tables.\+h}}
\subsubsection[{\texorpdfstring{idt\+\_\+set\+\_\+gate(u8int idx, u32int base, u16int sel, u8int flags)}{idt_set_gate(u8int idx, u32int base, u16int sel, u8int flags)}}]{\setlength{\rightskip}{0pt plus 5cm}void idt\+\_\+set\+\_\+gate (
\begin{DoxyParamCaption}
\item[{{\bf u8int}}]{idx, }
\item[{{\bf u32int}}]{base, }
\item[{{\bf u16int}}]{sel, }
\item[{{\bf u8int}}]{flags}
\end{DoxyParamCaption}
)}\hypertarget{tables_8h_a9eca3fe1465f8d7d383551d804853139}{}\label{tables_8h_a9eca3fe1465f8d7d383551d804853139}


Definition at line 27 of file tables.\+c.



References flags, and idt\+\_\+entries.



Referenced by init\+\_\+irq().


\begin{DoxyCode}
29 \{
30   idt\_entry *new\_entry = &\hyperlink{tables_8c_a3c386c59636822ce451be20cc1433a55}{idt\_entries}[idx];
31   new\_entry->base\_low  = (\hyperlink{tables_8h_ab5763c2b18c825c8b8fba44b2e60ddc1}{base} &  0xFFFF);
32   new\_entry->base\_high = (\hyperlink{tables_8h_ab5763c2b18c825c8b8fba44b2e60ddc1}{base} >> 16) & 0xFFFF;
33   new\_entry->sselect   = sel;
34   new\_entry->zero = 0;
35   new\_entry->flags = \hyperlink{tables_8h_a138dda98fcd4738346af61bcca8cf4b4}{flags};
36 \}
\end{DoxyCode}
\index{tables.\+h@{tables.\+h}!init\+\_\+gdt@{init\+\_\+gdt}}
\index{init\+\_\+gdt@{init\+\_\+gdt}!tables.\+h@{tables.\+h}}
\subsubsection[{\texorpdfstring{init\+\_\+gdt()}{init_gdt()}}]{\setlength{\rightskip}{0pt plus 5cm}void init\+\_\+gdt (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{tables_8h_a86bb50044169930202cc403376ef40c3}{}\label{tables_8h_a86bb50044169930202cc403376ef40c3}


Definition at line 75 of file tables.\+c.



References gdt\+\_\+entries, gdt\+\_\+init\+\_\+entry(), gdt\+\_\+ptr, limit, and write\+\_\+gdt\+\_\+ptr().



Referenced by kmain().


\begin{DoxyCode}
76 \{
77   \hyperlink{tables_8c_aedb4641b02b4a269294e53be7c9b280e}{gdt\_ptr}.limit = 5 * \textcolor{keyword}{sizeof}(gdt\_entry) - 1;
78   \hyperlink{tables_8c_aedb4641b02b4a269294e53be7c9b280e}{gdt\_ptr}.base  = (\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int}) \hyperlink{tables_8c_ac64ff6d00454e0b88d43b55536418288}{gdt\_entries};
79 
80   \hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int} \hyperlink{tables_8h_a68fd3b4f6c14a331ca9b226cbf122e13}{limit} = 0xFFFFFFFF;
81   \hyperlink{tables_8c_a0b5aee548c88c40ecb07741be1be2e27}{gdt\_init\_entry}(0, 0, 0, 0, 0);           \textcolor{comment}{//required null segment}
82   \hyperlink{tables_8c_a0b5aee548c88c40ecb07741be1be2e27}{gdt\_init\_entry}(1, 0, limit, 0x9A, 0xCF); \textcolor{comment}{//code segment}
83   \hyperlink{tables_8c_a0b5aee548c88c40ecb07741be1be2e27}{gdt\_init\_entry}(2, 0, limit, 0x92, 0xCF); \textcolor{comment}{//data segment}
84   \hyperlink{tables_8c_a0b5aee548c88c40ecb07741be1be2e27}{gdt\_init\_entry}(3, 0, limit, 0xFA, 0xCF); \textcolor{comment}{//user mode code segment}
85   \hyperlink{tables_8c_a0b5aee548c88c40ecb07741be1be2e27}{gdt\_init\_entry}(4, 0, limit, 0xF2, 0xCF); \textcolor{comment}{//user mode data segment}
86 
87   \hyperlink{tables_8c_ab603373c64fb0a6d51482121d0800be4}{write\_gdt\_ptr}((\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int}) &\hyperlink{tables_8c_aedb4641b02b4a269294e53be7c9b280e}{gdt\_ptr}, \textcolor{keyword}{sizeof}(gdt\_ptr));
88 \}
\end{DoxyCode}
\index{tables.\+h@{tables.\+h}!init\+\_\+idt@{init\+\_\+idt}}
\index{init\+\_\+idt@{init\+\_\+idt}!tables.\+h@{tables.\+h}}
\subsubsection[{\texorpdfstring{init\+\_\+idt()}{init_idt()}}]{\setlength{\rightskip}{0pt plus 5cm}void init\+\_\+idt (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{tables_8h_a35fe413107af682030ab7a4b6dff19b8}{}\label{tables_8h_a35fe413107af682030ab7a4b6dff19b8}


Definition at line 43 of file tables.\+c.



References idt\+\_\+entries, idt\+\_\+ptr, memset(), and write\+\_\+idt\+\_\+ptr().



Referenced by kmain().


\begin{DoxyCode}
44 \{
45   \hyperlink{tables_8c_a76f617adbc46449bbc39e7b46504b7c4}{idt\_ptr}.limit = 256*\textcolor{keyword}{sizeof}(idt\_descriptor) - 1;
46   \hyperlink{tables_8c_a76f617adbc46449bbc39e7b46504b7c4}{idt\_ptr}.base  = (\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int})\hyperlink{tables_8c_a3c386c59636822ce451be20cc1433a55}{idt\_entries};
47   \hyperlink{string_8h_ace6ee45c30e71865e6eb635200379db9}{memset}(\hyperlink{tables_8c_a3c386c59636822ce451be20cc1433a55}{idt\_entries}, 0, 256*\textcolor{keyword}{sizeof}(idt\_descriptor));
48   
49   \hyperlink{tables_8c_a77fec66a455d3275b67be5c3d7868555}{write\_idt\_ptr}((\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int})&\hyperlink{tables_8c_a76f617adbc46449bbc39e7b46504b7c4}{idt\_ptr});
50 \}
\end{DoxyCode}


\subsection{Variable Documentation}
\index{tables.\+h@{tables.\+h}!access@{access}}
\index{access@{access}!tables.\+h@{tables.\+h}}
\subsubsection[{\texorpdfstring{access}{access}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf u8int} access}\hypertarget{tables_8h_a360a726ac0b61d9e4e1be3ad34f80244}{}\label{tables_8h_a360a726ac0b61d9e4e1be3ad34f80244}


Definition at line 55 of file tables.\+h.



Referenced by gdt\+\_\+init\+\_\+entry().

\index{tables.\+h@{tables.\+h}!base@{base}}
\index{base@{base}!tables.\+h@{tables.\+h}}
\subsubsection[{\texorpdfstring{base}{base}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf u32int} base}\hypertarget{tables_8h_ab5763c2b18c825c8b8fba44b2e60ddc1}{}\label{tables_8h_ab5763c2b18c825c8b8fba44b2e60ddc1}


Definition at line 53 of file tables.\+h.



Referenced by alloc().

\index{tables.\+h@{tables.\+h}!base\+\_\+high@{base\+\_\+high}}
\index{base\+\_\+high@{base\+\_\+high}!tables.\+h@{tables.\+h}}
\subsubsection[{\texorpdfstring{base\+\_\+high}{base_high}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf u8int} base\+\_\+high}\hypertarget{tables_8h_a706c81b840522a69ab6e6e941630d5e4}{}\label{tables_8h_a706c81b840522a69ab6e6e941630d5e4}


Definition at line 56 of file tables.\+h.

\index{tables.\+h@{tables.\+h}!base\+\_\+low@{base\+\_\+low}}
\index{base\+\_\+low@{base\+\_\+low}!tables.\+h@{tables.\+h}}
\subsubsection[{\texorpdfstring{base\+\_\+low}{base_low}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf u16int} base\+\_\+low}\hypertarget{tables_8h_a0a776dced2c26f16298425cde39f8364}{}\label{tables_8h_a0a776dced2c26f16298425cde39f8364}


Definition at line 52 of file tables.\+h.

\index{tables.\+h@{tables.\+h}!base\+\_\+mid@{base\+\_\+mid}}
\index{base\+\_\+mid@{base\+\_\+mid}!tables.\+h@{tables.\+h}}
\subsubsection[{\texorpdfstring{base\+\_\+mid}{base_mid}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf u8int} base\+\_\+mid}\hypertarget{tables_8h_a35c709a004babd09046db9f667ba0646}{}\label{tables_8h_a35c709a004babd09046db9f667ba0646}


Definition at line 54 of file tables.\+h.

\index{tables.\+h@{tables.\+h}!flags@{flags}}
\index{flags@{flags}!tables.\+h@{tables.\+h}}
\subsubsection[{\texorpdfstring{flags}{flags}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf u8int} flags}\hypertarget{tables_8h_a138dda98fcd4738346af61bcca8cf4b4}{}\label{tables_8h_a138dda98fcd4738346af61bcca8cf4b4}


Definition at line 55 of file tables.\+h.



Referenced by idt\+\_\+set\+\_\+gate().

\index{tables.\+h@{tables.\+h}!limit@{limit}}
\index{limit@{limit}!tables.\+h@{tables.\+h}}
\subsubsection[{\texorpdfstring{limit}{limit}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf u16int} limit}\hypertarget{tables_8h_a68fd3b4f6c14a331ca9b226cbf122e13}{}\label{tables_8h_a68fd3b4f6c14a331ca9b226cbf122e13}


Definition at line 52 of file tables.\+h.



Referenced by init\+\_\+gdt().

\index{tables.\+h@{tables.\+h}!limit\+\_\+low@{limit\+\_\+low}}
\index{limit\+\_\+low@{limit\+\_\+low}!tables.\+h@{tables.\+h}}
\subsubsection[{\texorpdfstring{limit\+\_\+low}{limit_low}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf u16int} limit\+\_\+low}\hypertarget{tables_8h_af9013229edfb91d4820f66b8df890ce3}{}\label{tables_8h_af9013229edfb91d4820f66b8df890ce3}


Definition at line 52 of file tables.\+h.

\index{tables.\+h@{tables.\+h}!sselect@{sselect}}
\index{sselect@{sselect}!tables.\+h@{tables.\+h}}
\subsubsection[{\texorpdfstring{sselect}{sselect}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf u16int} sselect}\hypertarget{tables_8h_ab3f34507900160b4a9b309b4ed039e07}{}\label{tables_8h_ab3f34507900160b4a9b309b4ed039e07}


Definition at line 53 of file tables.\+h.

\index{tables.\+h@{tables.\+h}!zero@{zero}}
\index{zero@{zero}!tables.\+h@{tables.\+h}}
\subsubsection[{\texorpdfstring{zero}{zero}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf u8int} zero}\hypertarget{tables_8h_a94515e42687e7508877c09da81f86860}{}\label{tables_8h_a94515e42687e7508877c09da81f86860}


Definition at line 54 of file tables.\+h.

